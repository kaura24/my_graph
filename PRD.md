# PRD - 개인 연구자용 지식 관리 앱 (v0.2)

## 제품 개요
- 대상: 개인 연구자(1인)
- 환경: 폐쇄망 기본, 필요 시 로컬 LLM API 연동
- 목표: 텍스트/표/이미지/HTML 지식을 통합 관리
- 플랫폼: 크로스플랫폼 데스크톱 앱 (pywebview + Python)

## 핵심 기능
- 문서 작성(블록 기반 Tiptap 에디터), 태그 분류, 양방향 링크
- 검색: 키워드/태그/하이브리드/자연어(Chroma 벡터 검색)
- 그래프 뷰: 문서 간 연결 관계 시각화 (React Flow + NetworkX, 선택 기능)
- 내보내기: HTML, TXT, Excel, Markdown
- AI 확장: 요약, 분류, 자동 태깅, 임베딩 검색, 문서 변환

## UI/UX 규칙 (v0.2.2)
- 기본 화면은 **텍스트 에디터 중심 3패널 레이아웃**(폴더/문서목록/에디터)로 동작
- 메인 탭: 에디터 / 그래프 / 설정 (세그먼트 컨트롤 스타일)
- 패널 폭 기준: 폴더 220px, 문서목록 320px, 에디터 가변
- 문서 생성 규칙: 기본 제목 `새메모`, 생성 시 현재 선택 폴더 자동 배치
- 검색 규칙: 입력 즉시 검색이 아닌, 검색 버튼 또는 Enter 입력 시 실행
- 검색 범위: 검색 실행 시 현재 폴더가 아닌 전체 문서 대상
- 아이콘 정책: UI 아이콘은 이모지 대신 `lucide-react` 사용
- 휴지통: 삭제 시 휴지통 이동, 삭제일별 그룹화, 복원/완전 삭제
- 자동 태그: 본문 `#해시태그` 자동 추출 (설정 on/off)
- URL 붙여넣기: og:meta 조회 후 메신저 스타일 링크 프리뷰
- 타이포그래피: 설정 글꼴 크기에 따라 전체 UI 스케일링

## 아키텍처
- **데스크톱 셸**: pywebview (크로스플랫폼, Python 순수 실행)
- **백엔드**: FastAPI REST API (문서 CRUD, 태그, 폴더, 벡터 검색)
- **프론트엔드**: React + Vite (REST 기반, Electron 의존성 없음)

## 모드
- 기본 모드(비AI): 오프라인 완전 동작 (Python 백엔드만으로 동작)
- AI 확장 모드: 로컬 LLM API + Chroma 벡터 검색, 실패 시 기본 모드 폴백

## 비기능
- 오프라인 우선 (인터넷 연결 불필요)
- 검색 1초 내 응답 목표
- 자동 저장/버전 복원
- 데이터 무결성: 문서 손실 없는 안전한 CRUD
